<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="css/global.css" ／>
	<link rel="stylesheet" href="css/friend.css" ／>
	<script type="text/javascript" src="js/jquery.min.js"></script>
</head>
<body>
	<script>
		function GetQueryString(name) {
		    var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		    var r = window.location.search.substr(1).match(reg);
		    if(r!=null)return  unescape(r[2]); return null;
		}
		$(document).ready(function() {
			$("#login").show();
			$("#personalModuleList").show();

			page = Number(GetQueryString("page"));
			show = GetQueryString("show");

			//show choose
			if(show == null || show == "") show = "all";

			//page choose
			totalPage = 3;
			$("#totalPage").text("/ "+totalPage);
			if(page == NaN || page > totalPage || page < 1) page = 1;
			if(totalPage <= 6) {
				for(var i = 1; i <= totalPage; i++) {
					$("#page"+i).text(i);
					$("#page"+i).attr("onclick", "window.location.href='friend.html?show="+show+"&page="+i+"'");
					if(i == page) {
						$("#page"+i).addClass("choose");
					}
				}
				for(var i = totalPage + 1; i <= 6; i++) {
					$("#page"+i).hide();
				}
			}
			else {
				if(page < 4) {
					for(var i = 1; i < 6; i++) {
						$("#page"+i).text(i);
						$("#page"+i).attr("onclick", "window.location.href='friend.html?show="+show+"&page="+i+"'");
						if(i == page) {
							$("#page"+i).addClass("choose");
							$("#page"+i).attr("onclick", "");
						}
					}
					$("#page6").text("..."+totalPage);
					$("#page6").attr("onclick", "window.location.href='friend.html?show="+show+"&page="+totalPage+"'");
				}
				else {
					$("#page1").text("1...");
					$("#page1").attr("onclick", "window.location.href='friend.html?show="+show+"&page=1'");
					if(page < totalPage - 3) {
						for(var i = 2; i < 6; i++) {
							$("#page"+i).text(i + page - 3);
							$("#page"+i).attr("onclick", "window.location.href='friend.html?show="+show+"&page="+(i+page-3)+"'");
							if(i == 3) {
								$("#page"+i).addClass("choose");
								$("#page"+i).attr("onclick", "");
							}
						}
						$("#page6").text("..."+totalPage);
						$("#page6").attr("onclick", "window.location.href='friend.html?show="+show+"&page="+totalPage+"'");
					}
					else {
						for(var i = 2; i <= 6; i++) {
							$("#page"+i).text(i + totalPage - 6);
							$("#page"+i).attr("onclick", "window.location.href='friend.html?show="+show+"&page="+(i+totalPage-6)+"'");
							if(i + totalPage - 6 == page) {
								$("#page"+i).addClass("choose");
								$("#page"+i).attr("onclick", "");
							}
						}
					}
				}
			}
		});

		function pagePrev() {
			if(page > 1) {
				window.location.href='friend.html?show='+show+'&page='+(page-1);
			}
		}
		function pageNext() {
			if(page < totalPage) {
				window.location.href='friend.html?show='+show+'&page='+(page+1);
			}
		}
		function pageJump() {
			var jump = Number($("#searchPage").val());
			if(jump > 0 && jump <= totalPage) {
				window.location.href='friend.html?show='+show+'&page='+(jump);
			}
			else {
				alert("Invalid page");
			}
		}
	</script>
	<div class="sideBar">
		<div class="logo"><img src="img/logo.png" /></div>
		<div class="personalInfo">
			<div class="isLogin" id="login">
				<div class="pPhoto" style="cursor: pointer;" onclick="window.location.href='personalData.html'"><img src="img/man.png" /></div>
				<div class="name">name</div>
				<div class="pInfo" id="grade">grade: 2</div>
				<div class="pInfo" id="article">article: 8</div>
			</div>
			<div class="notLogin" id="notLogin">
				<div class="pPhoto"><img src="img/profile.png" /></div>
				<input type="text" class="loginInput" placeholder="Username" />
				<input type="text" class="loginInput" placeholder="Password" />
				<div class="forgetPwd">Forgot password?</div>
				<div class="buttonLine">
					<div class="loginButton" onclick="window.location.href='main.html?login=login'">Login</div>
					<div class="loginButton registerButton" onclick="window.open('register.html')">Register</div>
				</div>
				<div class="buttonLine">
					<img src="img/qq2.png" class="thirdPlatformButton" />
					<img src="img/wechat2.png" class="thirdPlatformButton" />
					<img src="img/weibo2.png" class="thirdPlatformButton" />
				</div>
			</div>
		</div>
		<div class="personalModuleList" id="personalModuleList">
			<div class="personalModule" id="pModule0" onclick="window.location.href='main.html?login=login'">
				<img src="img/arrow.png" class="arrow" /><img src="img/homepage.png" class="title" />
			</div>
			<div class="personalModule" id="pModule1" onclick="window.location.href='favourite.html?show=all&page=1'">
				<img src="img/arrow.png" class="arrow" /><img src="img/favorites.png" class="title" />
			</div>
			<div class="personalModule" id="pModule2">
				<img src="img/arrow.png" class="arrow" /><img src="img/mail2.png" class="title" />
			</div>
			<div class="personalModule" id="pModule3" onclick="window.location.href='personalData.html'">
				<img src="img/arrow.png" class="arrow" /><img src="img/settings.png" class="title" />
			</div>
			<div class="personalModule choose" id="pModule4">
				<img src="img/arrow.png" class="arrow arrowChoose" /><img src="img/friends.png" class="title" />
			</div>
		</div>
	</div>
	<div class="mainPage">
		<div class="searchBar">
			<div class="blank"></div>
			<div class="context">
				<div class="search">
					<img src="img/search.png" class="logo" />
					<input type="text" name="search" placeholder="search" />
				</div>
				
			</div>
			<div class="blank"></div>
		</div>
		<div class="main" style="background-image: url(img/background3.png)">
			<div class="blank"></div>
			<div class="mainContent">
				<div class="searchFriendLine">
					<div class="buttonLine">
						<div class="button choose">All</div>
						<div class="button">Online</div>
					</div>
					<div class="inlineSearch">
						<img src="img/search.png" class="logo" />
						<input type="text" name="search" placeholder="search friends" />
					</div>
				</div>
				<div class="friendsLine">
					<div class="friend">
						<img class="logo" src="img/profile.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Franky</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/man.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Helen</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/woman.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Lily</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="friendsLine">
					<div class="friend">
						<img class="logo" src="img/man.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Franky</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/man.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Helen</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/woman.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Lily</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="friendsLine">
					<div class="friend">
						<img class="logo" src="img/profile.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Franky</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/profile.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Helen</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
					<div class="friend">
						<img class="logo" src="img/woman.png" onclick="window.location.href='othersData.html?login=login'" />
						<div class="info">
							<div class="name">Lily</div>
							<div class="other">grade: 2</div>
							<div class="other">article: 8</div>
						</div>
						<div class="option" tabindex="-1" title="option">
							<img class="optionImg" src="img/option.png" />
							<div class="optionList">
								<div class="item grey">
									<img src="img/talk.png">
									<div>Talk</div>
								</div>
								<div class="item">
									<img src="img/mail.png">
									<div>Mail</div>
								</div>
								<div class="item grey">
									<img src="img/rubbish.png">
									<div>Remove</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="pageModule">
					<div class="jumpButton" onclick="pageJump()">Jump</div>
					<div class="totalPage" id="totalPage"></div>
					<input type="text" class="searchPage" id="searchPage" placeholder="page"/>
					<div class="pageLine">
						<div class="page" style="margin-right: 12px;" onclick="pagePrev()">Previous</div>
						<div class="page" id="page1"></div>
						<div class="page" id="page2"></div>
						<div class="page" id="page3"></div>
						<div class="page" id="page4"></div>
						<div class="page" id="page5"></div>
						<div class="page" id="page6"></div>
						<div class="page" style="margin-left: 15px" onclick="pageNext()">Next</div>
					</div>
				</div>
				<div class="blankLine"></div>
				<div class="bottomInfo">
					<p>广告业务|合作交流|联系我们|技术支持</p>
					<p>Copyright©️ 2016-2017 DBEnglish版权所有</p>
					<p>本站信息均由网民提供，严禁在本论坛发表与中华人民共和国法律相抵触的言论</p>
				</div>
			</div>
			<div class="blank"></div>
		</div>
	</div>
</body>
</html>