<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="css/global.css" ／>
	<link rel="stylesheet" href="css/postItem.css" ／>
	<script type="text/javascript" src="js/jquery.min.js"></script>
</head>
<body>
	<script>
		replyId = "";

		function GetQueryString(name) {
		    var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		    var r = window.location.search.substr(1).match(reg);
		    if(r!=null)return  unescape(r[2]); return null;
		}

		$(document).ready(function() {
			$("#mask").width(document.body.scrollWidth);
			$("#mask").height(document.body.scrollHeight);
			var left = (document.body.scrollWidth/2 - $("#replyOther").width()/2) + 'px';
			var top = (document.body.scrollHeight/2 - $("#replyOther").height()/2) + 'px';
			$("#replyOther").css("left", left);
			$("#replyOther").css("top", top);

			login = GetQueryString("login");
			page = Number(GetQueryString("page"));

			//login choose
			if(login == null || login != "login") login = "notLogin";
			if(login == "notLogin") {
				$("#login").hide();
				$("#personalModuleList").hide();
				$("#"+login).show();
				$("#homepageHref").attr("href","main.html");
			}
			else {
				$("#notLogin").hide();
				$("#"+login).show();
				$("#personalModuleList").show();
				$("#homepageHref").attr("href","main.html?login=login");
			}

			//page choose
			totalPage = 234;
			$("#totalPage").text("/ "+totalPage);
			if(page == NaN || page > totalPage || page < 1) page = 1;
			if(totalPage <= 6) {
				for(var i = 1; i <= totalPage; i++) {
					$("#page"+i).text(i);
					$("#page"+i).attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+i+"'");
					if(i == page) {
						$("#page"+i).addClass("choose");
					}
				}
				for(var i = totalPage + 1; i <= 6; i++) {
					$("#page"+i).hide();
				}
			}
			else {
				if(page < 4) {
					for(var i = 1; i < 6; i++) {
						$("#page"+i).text(i);
						$("#page"+i).attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+i+"'");
						if(i == page) {
							$("#page"+i).addClass("choose");
							$("#page"+i).attr("onclick", "");
						}
					}
					$("#page6").text("..."+totalPage);
					$("#page6").attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+totalPage+"'");
				}
				else {
					$("#page1").text("1...");
					$("#page1").attr("onclick", "window.location.href='postItem.html?login="+login+"&page=1'");
					if(page < totalPage - 3) {
						for(var i = 2; i < 6; i++) {
							$("#page"+i).text(i + page - 3);
							$("#page"+i).attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+(i+page-3)+"'");
							if(i == 3) {
								$("#page"+i).addClass("choose");
								$("#page"+i).attr("onclick", "");
							}
						}
						$("#page6").text("..."+totalPage);
						$("#page6").attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+totalPage+"'");
					}
					else {
						for(var i = 2; i <= 6; i++) {
							$("#page"+i).text(i + totalPage - 6);
							$("#page"+i).attr("onclick", "window.location.href='postItem.html?login="+login+"&page="+(i+totalPage-6)+"'");
							if(i + totalPage - 6 == page) {
								$("#page"+i).addClass("choose");
								$("#page"+i).attr("onclick", "");
							}
						}
					}
				}
			}
		});
		function pagePrev() {
			if(page > 1) {
				window.location.href='postItem.html?login='+login+'&page='+(page-1);
			}
		}
		function pageNext() {
			if(page < totalPage) {
				window.location.href='postItem.html?login='+login+'&page='+(page+1);
			}
		}
		function pageJump() {
			var jump = Number($("#searchPage").val());
			if(jump > 0 && jump <= totalPage) {
				window.location.href='postItem.html?login='+login+'&page='+(jump);
			}
			else {
				alert("Invalid page");
			}
		}
		function reply(pId, pName) {
			$("#mask").show();
			$("#replyOther textarea").attr('placeholder', 'Reply to '+pName);
			$("#replyOther").show();
			replyId = pId;
		}
		function hideReply() {
			$("#replyOther").hide();
			$("#mask").hide();
		}

	</script>

	<div class="mask" id="mask"></div>
	<div class="replyOther" id="replyOther">
		<div class="postModule">
			<div class="titleLine">
				<div class="titleText">Reply Others</div>
			</div>
			<textarea placeholder="Write your content here"></textarea>
			<div class="postButton" onclick="hideReply()">Post</div>
		</div>
	</div>

	<div class="sideBar">
		<div class="logo"><img src="img/logo.png" /></div>
		<div class="personalInfo">
			<div class="isLogin" id="login">
				<div class="pPhoto" style="cursor: pointer;" onclick="window.location.href='personalData.html'"><img src="img/man.png" /></div>
				<div class="name">name</div>
				<div class="pInfo" id="grade">grade: 2</div>
				<div class="pInfo" id="article">article: 8</div>
			</div>
			<div class="notLogin" id="notLogin">
				<div class="pPhoto"><img src="img/profile.png" /></div>
				<input type="text" class="loginInput" placeholder="Username" />
				<input type="text" class="loginInput" placeholder="Password" />
				<div class="forgetPwd">Forgot password?</div>
				<div class="buttonLine">
					<div class="loginButton" onclick="window.location.href='main.html?login=login'">Login</div>
					<div class="loginButton registerButton" onclick="window.open('register.html')">Register</div>
				</div>
				<div class="buttonLine">
					<img src="img/qq2.png" class="thirdPlatformButton" />
					<img src="img/wechat2.png" class="thirdPlatformButton" />
					<img src="img/weibo2.png" class="thirdPlatformButton" />
				</div>
			</div>
		</div>
		<div class="personalModuleList" id="personalModuleList">
			<div class="personalModule choose" id="pModule0" onclick="window.location.href='main.html?login=login'">
				<img src="img/arrow.png" class="arrow arrowChoose" /><img src="img/homepage.png" class="title" />
			</div>
			<div class="personalModule" id="pModule1" onclick="window.location.href='favourite.html?show=all&page=1'">
				<img src="img/arrow.png" class="arrow" /><img src="img/favorites.png" class="title" />
			</div>
			<div class="personalModule" id="pModule2">
				<img src="img/arrow.png" class="arrow" /><img src="img/mail2.png" class="title" />
			</div>
			<div class="personalModule" id="pModule3" onclick="window.location.href='personalData.html'">
				<img src="img/arrow.png" class="arrow" /><img src="img/settings.png" class="title" />
			</div>
			<div class="personalModule" id="pModule4" onclick="window.location.href='friend.html?page=1'">
				<img src="img/arrow.png" class="arrow" /><img src="img/friends.png" class="title" />
			</div>
		</div>
	</div>
	<div class="mainPage">
		<div class="searchBar">
			<div class="blank"></div>
			<div class="context">
				<div class="search">
					<img src="img/search.png" class="logo" />
					<input type="text" name="search" placeholder="search" />
				</div>
				
			</div>
			<div class="blank"></div>
		</div>
		<div class="main" style="background-image: url(img/background.png)">
			<div class="blank"></div>
			<div class="mainContent">
				<div class="path"><a href="main.html" id="homepageHref">Homepage</a> >> <a href="module.html">Listening</a> >> <a href="postItem.html">Title</a></div>
				<div class="postItem">
					<div class="postItemTop"></div>
					<div class="titleLine">
						<div class="title">bbPress is forum software, made the World. Long long long long long long long long</div>
						<div class="share">
							<img src="img/qq.png" onclick="" />
							<img src="img/weibo.png" />
							<img src="img/wechat.png" />
							<img src="img/heart.png" />
						</div>
					</div>
					<div class="floor">
						<div class="personalBar">
							<div class="pPhoto" onclick="window.location.href='othersData.html?login=login'"><img src="img/profile.png" /></div>
							<div class="name">Helen</div>
							<div class="pInfo" id="grade">grade: 2</div>
							<div class="pInfo" id="article">article: 8</div>
							<div class="pButtonBar">
								<div class="pButton">Follow</div>
								<img src="img/mail.png" class="pMail" />
							</div>
						</div>
						<div class="verticleHr"></div>
						<div class="postInfo">
							<div class="time">Tue Aug 23, 2016 08:05 pm</div>
							<div class="horizenHr"></div>
							<div class="content">
								<div class="context">asdf</div>
								<div class="bottomLine">
									<div class="disagreeNum">0</div>
									<img src="img/dislike.png" class="agree" />
									<img src="img/like.png" class="agree" />
									<div class="agreeNum">2</div>
									<img src="img/reply.png" class="reply" onclick="reply('1', 'Helen')" />
									<div>Reply</div>
								</div>
							</div>
						</div>
					</div>
					<div class="floor">
						<div class="personalBar">
							<div class="pPhoto" onclick="window.location.href='othersData.html?login=login'"><img src="img/woman.png" /></div>
							<div class="name">Lily</div>
							<div class="pInfo" id="grade">grade: 2</div>
							<div class="pInfo" id="article">article: 8</div>
							<div class="pButtonBar">
								<div class="pButton">Follow</div>
								<img src="img/mail.png" class="pMail" />
							</div>
						</div>
						<div class="verticleHr"></div>
						<div class="postInfo">
							<div class="time">Tue Aug 23, 2016 08:05 pm</div>
							<div class="horizenHr"></div>
							<div class="content">
								<div class="context">asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />
								asdf<br />asdf<br />asdf<br />asdf<br />asdf<br />asdfaslkdjflaksdjflkasjdflkjsalkjdslfk nsflkn lkwn lnwjnlqnl nkdjnfkjsn kjs nfjksn qj
								asdfaslkdjflaksdjflkasjdflkjsalkjdslfk nsflkn lkwn lnwjnlqnl nkdjnfkjsn kjs nfjksn qj dasfnlwlknlkw1nk nklnlkml mlkm klwm ml kn
								</div>
								<div class="bottomLine">
									<div class="disagreeNum">0</div>
									<img src="img/dislike.png" class="agree" />
									<img src="img/like.png" class="agree" />
									<div class="agreeNum">2</div>
									<img src="img/reply.png" class="reply" onclick="reply('2', 'Lily')" />
									<div>Reply</div>
								</div>
							</div>
						</div>
					</div>
					<div class="floor">
						<div class="personalBar">
							<div class="pPhoto" onclick="window.location.href='othersData.html?login=login'"><img src="img/man.png" /></div>
							<div class="name">Franky</div>
							<div class="pInfo" id="grade">grade: 2</div>
							<div class="pInfo" id="article">article: 8</div>
							<div class="pButtonBar">
								<div class="pButton">Follow</div>
								<img src="img/mail.png" class="pMail" />
							</div>
						</div>
						<div class="verticleHr"></div>
						<div class="postInfo">
							<div class="time">Tue Aug 23, 2016 08:05 pm</div>
							<div class="horizenHr"></div>
							<div class="content">
								<div class="context">asdf</div>
								<div class="bottomLine">
									<div class="disagreeNum">0</div>
									<img src="img/dislike.png" class="agree" />
									<img src="img/like.png" class="agree" />
									<div class="agreeNum">2</div>
									<img src="img/reply.png" class="reply" onclick="reply('3', 'Franky')" />
									<div>Reply</div>
								</div>
							</div>
						</div>
					</div>
					<div class="floor">
						<div class="personalBar">
							<div class="pPhoto" onclick="window.location.href='othersData.html?login=login'"><img src="img/profile.png" /></div>
							<div class="name">Helen</div>
							<div class="pInfo" id="grade">grade: 2</div>
							<div class="pInfo" id="article">article: 8</div>
							<div class="pButtonBar">
								<div class="pButton">Follow</div>
								<img src="img/mail.png" class="pMail" />
							</div>
						</div>
						<div class="verticleHr"></div>
						<div class="postInfo">
							<div class="time">Tue Aug 23, 2016 08:05 pm</div>
							<div class="horizenHr"></div>
							<div class="content">
								<div class="context">asdf</div>
								<div class="bottomLine">
									<div class="disagreeNum">0</div>
									<img src="img/dislike.png" class="agree" />
									<img src="img/like.png" class="agree" />
									<div class="agreeNum">2</div>
									<img src="img/reply.png" class="reply" onclick="reply('4', 'Helen')" />
									<div>Reply</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="pageModule">
					<div class="jumpButton" onclick="pageJump()">Jump</div>
					<div class="totalPage" id="totalPage">/ 234</div>
					<input type="text" class="searchPage" id="searchPage" placeholder="page"/>
					<div class="pageLine">
						<div class="page" style="margin-right: 12px;" onclick="pagePrev()">Previous</div>
						<div class="page" id="page1">1...</div>
						<div class="page" id="page2">5</div>
						<div class="page" id="page3">6</div>
						<div class="page" id="page4">7</div>
						<div class="page" id="page5">8</div>
						<div class="page" id="page6">...234</div>
						<div class="page" style="margin-left: 15px" onclick="pageNext()">Next</div>
					</div>
				</div>
				<div class="postModule">
					<div class="titleLine">
						<div class="titleText">Reply louzhu</div>
					</div>
					<textarea placeholder="Write your content here"></textarea>
					<div class="postButton">Post</div>
				</div>
				<div class="bottomInfo">
					<p>广告业务|合作交流|联系我们|技术支持</p>
					<p>Copyright©️ 2016-2017 DBEnglish版权所有</p>
					<p>本站信息均由网民提供，严禁在本论坛发表与中华人民共和国法律相抵触的言论</p>
				</div>
			</div>
			<div class="blank"></div>
		</div>
	</div>
</body>
</html>